<main id="main" class="main">
  <div class="col">
    <div class="row">
        <div class="col-2" *ngIf="!showUpdateForm">
            <a class="nav-link btn btn-primary" (click)="onAddTeacherClick()" *ngIf="!toggleAddTeacher; else cancel"  >
                Add Teacher
            </a>
            <ng-template #cancel>
                <button class="btn btn-secondary" (click)="onCancelClick()">Cancel</button>
            </ng-template>
        </div>
    </div>
    <hr>
    <div>
        <!-- ADD TEACHER -->
        <ng-container *ngIf="toggleAddTeacher">
  
          <div class="card">
            <div class="card-body" style="background-color: #f8f9fa;;">
              <div class="mb-3"> 
                <h2 class="h3">Teacher Registration</h2>
                <h3 class="fs-6 fw-normal text-secondary m-0">Enter details to register teacher</h3>
              </div>
            <form>

              <div class="row"> 
                <div class="col-md-6"> 
                  <div class="form-group">
                      <label for="firstName">First Name<span class="text-danger">*</span></label>
                      <input type="text" class="form-control" id="firstName" [(ngModel)]="firstName" name="firstName">
                  </div>
                  </div>  
                  <div class="col-md-6"> 
                  <div class="form-group">
                      <label for="lastName">Last Name<span class="text-danger">*</span></label>
                      <input type="text" class="form-control" id="lastName" [(ngModel)]="lastName" name="lastName">
                  </div>
                </div>
              </div>  

              <div class="row"> 
                <div class="col-md-6"> 
                  <div class="form-group">
                    <label for="date_of_birth">Date of Birth<span class="text-danger">*</span></label>
                    <input type="date" class="form-control" id="date_of_birth" [(ngModel)]="date_of_birth" name="date_of_birth">
                  </div>
                  </div>  
                  <div class="col-md-6"> 
                  <div class="form-group">
                    <label for="gender">Gender<span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="gender" [(ngModel)]="gender" name="gender">
                  </div>
                </div>
              </div> 

              <div class="row"> 
                <div class="col-md-12"> 
                  <div class="form-group">
                    <label for="address">Address<span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="address" [(ngModel)]="address" name="address">
                  </div>
                </div>
              </div> 

              <div class="row"> 
                <div class="col-md-6">    
                  <div class="form-group">
                    <label for="email">Email<span class="text-danger">*</span></label>
                    <input type="email" class="form-control" id="email" [(ngModel)]="email" name="=email">
                  </div>
                  </div>  
                  <div class="col-md-6"> 
                  <div class="form-group">
                    <label for="qualification">Qualification<span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="qualification" [(ngModel)]="qualification" name="=qualification">
                  </div>
                </div>
              </div> 

              <div class="row"> 
                <div class="col-md-4">   
                  <div class="form-group">
                    <label for="phone_number">Mobile<span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="phone_number" [(ngModel)]="phone_number" name="phone_number">
                  </div>
                  </div>  
                  <div class="col-md-4"> 
                  <div class="form-group">
                    <label for="hire_date">Hire Date<span class="text-danger">*</span></label>
                    <input type="date" class="form-control" id="hire_date" [(ngModel)]="hire_date" name="=hire_date">
                  </div>
                  </div>  
                  <div class="col-md-4"> 
                  <div class="form-group">
                    <label for="subject_name">Subject Name<span class="text-danger">*</span></label>
                    <!-- <input type="text" class="form-control" id="subject_name" [(ngModel)]="subject_name" name="=subject_name"> -->
                    <select name="updateSubjectName" id="updateSubjectName" class="dropdown w-100" (change)="getSubject($event.target.value)"
                    style="height: 2.5em;">
                    <option>Subject</option>
                    <option value="English">English</option>
                    <option value="Biology">Biology</option>
                    <option value="Sports">Sports</option>
                    <option value="Mathematics">Mathematics</option>
                    <option value="Physics">Physics</option>
                    <option value="History">History</option>
                    <option value="Geography">Geography</option>
                    <option value="Computer Science">Computer Science</option>
                    <option value="Chemistry">Chemistry</option>
                    <option value="Music">Music</option>
                </select>
                  </div>
                </div>
              </div> 
                  <hr>
                  <button class="btn btn-primary" type="submit" (click)="addTeacher()">
                    Submit
                  </button>
            </form>
          </div>
        </div> 
        </ng-container>

        <!-- UPDATE TEACHER -->
        <ng-container *ngIf="showUpdateForm">
        <div class="card">
          <div class="card-body" style="background-color: #f8f9fa;;">
            <div class="mb-3"> 
                <h2 class="h3">Update Teacher Details</h2>
                <h3 class="fs-6 fw-normal text-secondary m-0">Do the required changes</h3>
            </div>
          <form>
            <div class="row"> 
              <div class="col-md-6">   
                <div class="form-group">
                  <label for="teacherId">ID</label>
                  <input type="number" class="form-control" id="teacherId" [(ngModel)]="teacherId" readonly name="teacherId">
                </div>
                </div>  
                <div class="col-md-6"> 
                <div class="form-group">
                  <label for="updateFirstName">First Name</label>
                  <input type="text" class="form-control" id="updateFirstName" [(ngModel)]="updateFirstName" name="updateFirstName">
                </div>
              </div>
            </div> 

            <div class="row"> 
              <div class="col-md-6">  
                <div class="form-group">
                  <label for="updateLastName">Last Name</label>
                  <input type="text" class="form-control" id="updateLastName" [(ngModel)]="updateLastName" name="updateLastName">
                </div>
                </div>  
                <div class="col-md-6"> 
                <div class="form-group">
                  <label for="updateDob">Date of Birth</label>
                  <input type="date" class="form-control" id="updateDob" [(ngModel)]="updateDob" name="updateDob">
                </div>
              </div>
            </div> 

            <div class="row"> 
              <div class="col-md-6">  
                <div class="form-group">
                  <label for="updateGender">Gender</label>
                  <input type="text" class="form-control" id="updateGender" [(ngModel)]="updateGender" name="updateGender">
                </div>
                </div>  
                <div class="col-md-6"> 
                <div class="form-group">
                  <label for="phone_number">Phone Number</label>
                  <input type="text" class="form-control" id="phone_number" [(ngModel)]="updatePhoneNumber" name="updatePhoneNumber">
                </div>
              </div>
            </div> 

            <div class="row"> 
              <div class="col-md-12">
                <div class="form-group">
                  <label for="address">Address</label>
                  <input type="text" class="form-control" id="address" [(ngModel)]="updateAddress" name="address">
                </div>
              </div>
            </div> 
            
            <div class="row"> 
              <div class="col-md-6">
                <div class="form-group">
                  <label for="email">Email</label>
                  <input type="email" class="form-control" id="email" [(ngModel)]="updateEmail" name="updateEmail">
                </div>
                </div>  
                <div class="col-md-6"> 
                <div class="form-group">
                  <label for="updateQualification">Qualification</label>
                  <input type="text" class="form-control" id="updateQualification" [(ngModel)]="updateQualification" name="updateQualification">
                </div>
             </div>
            </div> 

            <div class="row"> 
              <div class="col-md-6">
                <div class="form-group">
                  <label for="updateHireDate">Hire Date</label>
                  <input type="date" class="form-control" id="updateHireDate" [(ngModel)]="updateHireDate" name="updateHireDate">
                </div>
                </div>  
                <div class="col-md-6"> 
                <div class="form-group">
                  <label for="updateSubjectName">Subject Name</label>
                  <input type="text" class="form-control" id="updateSubjectName" [(ngModel)]="updateSubjectName" name="updateSubjectName">
                </div>
              </div>
            </div> 

            <hr>
            <button class="btn btn-primary" (click)="updateTeacherForm()">Update</button>
          </form>
          </div>
        </div>  
        </ng-container>
  
    </div>
    <hr>
    <div class="row">
      <div class="card">
        <table class="table table-striped table-hover">
            <thead class="tablehead" style="background-color: #007bff;">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Subject</th>
                    <!-- <th scope="col">Date of Birth</th> -->
                    <th scope="col">Gender</th>
                    <th scope="col">Mobile</th>
                    <th scope="col">Email</th>
                    <th scope="col" style="text-align: center;">Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let teacher of teachers">
                    <td class="align-middle">{{ teacher.teacher_id }}</td>
                    <td class="align-middle">{{ teacher.first_name }}</td>
                    <td class="align-middle">{{ teacher.last_name }}</td>
                    <td class="align-middle">{{ teacher.subject_name }}</td>
                    <!-- <td class="align-middle">{{ teacher.date_of_birth }}</td> -->
                    <td class="align-middle">{{ teacher.gender }}</td>
                    <td class="align-middle">{{ teacher.phone_number }}</td>
                    <td class="align-middle">{{ teacher.email }}</td>
                    <td class="align-middle text-center">
                        <button class="btn btn-warning btn-sm mr-1" style="color: white;" (click)="updateTeacher(teacher)">Update</button>
                        <button class="btn btn-danger btn-sm" (click)="confirmDelete(teacher.teacher_id)">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
      </div>
    </div>
</div>

</main>